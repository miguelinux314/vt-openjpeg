#!/bin/bash          

#stepsize
opt_arg_stepsize="0.0027,0.0015,0.0015,0.0017,0.0018,0.0018,0.0020,0.0024,0.0024,0.0028,0.0035,0.0035,0.0071,0.0150,0.0150,0.0381:0.0028,0.0024,0.0024,0.0024,0.0039,0.0039,0.0148,0.0115,0.0115,0.0700,0.5000,0.5000,0.5000,0.5000,0.5000,0.5000:0.0026,0.0024,0.0024,0.0030,0.0037,0.0037,0.0046,0.0047,0.0047,0.0063,0.0082,0.0082,0.5000,0.5000,0.5000,0.5000"
#slopes:[VT4,VT3,VT2,VT1]
opt_arg_slope="0.0000,0.0006,0.0006,0.0007,0.0005,0.0005,0.0005,0.0007,0.0007,0.0017,0.0016,0.0016,0.0043,0.0006,0.0006,0.0291:0.0000,0.0006,0.0006,0.0007,0.0005,0.0005,0.0005,0.0008,0.0008,0.0016,0.0018,0.0018,0.0037,0.0017,0.0017,0.0300:0.0000,0.0006,0.0006,0.0006,0.0004,0.0004,0.0003,0.0007,0.0007,0.0014,0.0014,0.0014,0.0023,0.0034,0.0034,0.0485:0.0000,0.0006,0.0006,0.0005,0.0004,0.0004,0.0002,0.0006,0.0006,0.0011,0.0015,0.0015,0.0020,0.0043,0.0043,0.0393"
#thresholds:[VT4,VT3,VT2,VT1]
opt_arg_threshold="0.0031,0.0020,0.0020,0.0021,0.0023,0.0023,0.0027,0.0031,0.0031,0.0037,0.0061,0.0061,0.0115,0.0287,0.0287,0.1099:0.0056,0.0041,0.0041,0.0069,0.0106,0.0106,0.5000,0.0333,0.0333,0.5000,0.5000,0.5000,0.5000,0.5000,0.5000,0.5000:0.0042,0.0038,0.0038,0.0057,0.0058,0.0058,0.0078,0.0080,0.0080,0.0324,0.0275,0.0275,0.5000,0.5000,0.5000,0.5000:0.0030,0.0019,0.0019,0.0019,0.0022,0.0022,0.0025,0.0028,0.0028,0.0034,0.0051,0.0051,0.0101,0.0237,0.0237,0.0841:0.0042,0.0033,0.0033,0.0050,0.0086,0.0086,0.5000,0.0200,0.0200,0.5000,0.5000,0.5000,0.5000,0.5000,0.5000,0.5000:0.0039,0.0033,0.0033,0.0048,0.0049,0.0049,0.0072,0.0066,0.0066,0.0151,0.0183,0.0183,0.5000,0.5000,0.5000,0.5000:0.0029,0.0017,0.0017,0.0018,0.0020,0.0020,0.0023,0.0026,0.0026,0.0032,0.0045,0.0045,0.0088,0.0190,0.0190,0.0569:0.0031,0.0029,0.0029,0.0036,0.0066,0.0066,0.0411,0.0147,0.0147,0.5000,0.5000,0.5000,0.5000,0.5000,0.5000,0.5000:0.0031,0.0029,0.0029,0.0040,0.0044,0.0044,0.0059,0.0058,0.0058,0.0090,0.0116,0.0116,0.5000,0.5000,0.5000,0.5000:0.0027,0.0015,0.0015,0.0016,0.0017,0.0017,0.0020,0.0024,0.0024,0.0027,0.0034,0.0034,0.0069,0.0145,0.0145,0.0370:0.0028,0.0024,0.0024,0.0024,0.0039,0.0039,0.0148,0.0115,0.0115,0.0700,0.5000,0.5000,0.5000,0.5000,0.5000,0.5000:0.0026,0.0024,0.0024,0.0030,0.0037,0.0037,0.0046,0.0047,0.0047,0.0063,0.0082,0.0082,0.5000,0.5000,0.5000,0.5000"
input_file="test.bmp"
#custome stepsize, with linear model
../bin/opj_compress -i "${input_file}" -o "test_output.jp2" -I -stepsize ${opt_arg_stepsize} -lin_model_slope ${opt_arg_slope} -threshold ${opt_arg_threshold}

